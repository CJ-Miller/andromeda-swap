{"ast":null,"code":"var _jsxFileName = \"/Users/cj/Desktop/swap-attempts/swap2/src/components/PageHeader/SlippageToleranceSetting.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box, Button, Flex, Input, Text } from '@pancakeswap-libs/uikit';\nimport { useUserSlippageTolerance } from 'state/user/hooks';\nimport QuestionHelper from '../QuestionHelper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_SLIPPAGE = 5000;\nconst RISKY_SLIPPAGE_LOW = 50;\nconst RISKY_SLIPPAGE_HIGH = 500;\nconst Option = styled.div`\n  padding: 0 4px;\n`;\n_c = Option;\nconst Options = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  ${Option}:first-child {\n    padding-left: 0;\n  }\n\n  ${Option}:last-child {\n    padding-right: 0;\n  }\n\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    flex-direction: row;\n  }\n`;\n_c2 = Options;\nconst predefinedValues = [{\n  label: '0.1%',\n  value: 0.1\n}, {\n  label: '0.5%',\n  value: 0.5\n}, {\n  label: '1%',\n  value: 1\n}];\n\nconst SlippageToleranceSettings = ({\n  translateString\n}) => {\n  _s();\n\n  const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance();\n  const [value, setValue] = useState(userSlippageTolerance / 100);\n  const [error, setError] = useState(null);\n\n  const handleChange = evt => {\n    const {\n      value: inputValue\n    } = evt.target;\n    setValue(parseFloat(inputValue));\n  }; // Updates local storage if value is valid\n\n\n  useEffect(() => {\n    try {\n      const rawValue = value * 100;\n\n      if (!Number.isNaN(rawValue) && rawValue > 0 && rawValue < MAX_SLIPPAGE) {\n        setUserslippageTolerance(rawValue);\n        setError(null);\n      } else {\n        setError(translateString(1144, 'Enter a valid slippage percentage'));\n      }\n    } catch {\n      setError(translateString(1144, 'Enter a valid slippage percentage'));\n    }\n  }, [value, setError, setUserslippageTolerance, translateString]); // Notify user if slippage is risky\n\n  useEffect(() => {\n    if (userSlippageTolerance < RISKY_SLIPPAGE_LOW) {\n      setError(translateString(1146, 'Your transaction may fail'));\n    } else if (userSlippageTolerance > RISKY_SLIPPAGE_HIGH) {\n      setError(translateString(1148, 'Your transaction may be frontrun'));\n    }\n  }, [userSlippageTolerance, setError, translateString]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mb: \"16px\",\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      alignItems: \"center\",\n      mb: \"8px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        bold: true,\n        children: translateString(88, 'Slippage tolerance')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n        text: translateString(186, 'Your transaction will revert if the price changes unfavorably by more than this percentage.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Options, {\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        mb: ['8px', '8px', 0],\n        mr: [0, 0, '8px'],\n        children: predefinedValues.map(({\n          label,\n          value: predefinedValue\n        }) => {\n          const handleClick = () => setValue(predefinedValue);\n\n          return /*#__PURE__*/_jsxDEV(Option, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: value === predefinedValue ? 'primary' : 'tertiary',\n              onClick: handleClick,\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, predefinedValue, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Option, {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"number\",\n            scale: \"lg\",\n            step: 0.1,\n            min: 0.1,\n            placeholder: \"5%\",\n            value: value,\n            onChange: handleChange,\n            isWarning: error !== null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Option, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"18px\",\n            children: \"%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Text, {\n      mt: \"8px\",\n      color: \"failure\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SlippageToleranceSettings, \"pFG4T5+1+Vmw/arCtYDx39HamRs=\", false, function () {\n  return [useUserSlippageTolerance];\n});\n\n_c3 = SlippageToleranceSettings;\nexport default SlippageToleranceSettings;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Option\");\n$RefreshReg$(_c2, \"Options\");\n$RefreshReg$(_c3, \"SlippageToleranceSettings\");","map":{"version":3,"sources":["/Users/cj/Desktop/swap-attempts/swap2/src/components/PageHeader/SlippageToleranceSetting.tsx"],"names":["React","useEffect","useState","styled","Box","Button","Flex","Input","Text","useUserSlippageTolerance","QuestionHelper","MAX_SLIPPAGE","RISKY_SLIPPAGE_LOW","RISKY_SLIPPAGE_HIGH","Option","div","Options","theme","mediaQueries","sm","predefinedValues","label","value","SlippageToleranceSettings","translateString","userSlippageTolerance","setUserslippageTolerance","setValue","error","setError","handleChange","evt","inputValue","target","parseFloat","rawValue","Number","isNaN","map","predefinedValue","handleClick"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { Box, Button, Flex, Input, Text } from '@pancakeswap-libs/uikit'\nimport { useUserSlippageTolerance } from 'state/user/hooks'\nimport QuestionHelper from '../QuestionHelper'\n\nconst MAX_SLIPPAGE = 5000\nconst RISKY_SLIPPAGE_LOW = 50\nconst RISKY_SLIPPAGE_HIGH = 500\n\nconst Option = styled.div`\n  padding: 0 4px;\n`\n\nconst Options = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  ${Option}:first-child {\n    padding-left: 0;\n  }\n\n  ${Option}:last-child {\n    padding-right: 0;\n  }\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    flex-direction: row;\n  }\n`\n\nconst predefinedValues = [\n  { label: '0.1%', value: 0.1 },\n  { label: '0.5%', value: 0.5 },\n  { label: '1%', value: 1 },\n]\n\ntype SlippageToleranceSettingsModalProps = {\n  translateString: (translationId: number, fallback: string) => string\n}\n\nconst SlippageToleranceSettings = ({ translateString }: SlippageToleranceSettingsModalProps) => {\n  const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance()\n  const [value, setValue] = useState(userSlippageTolerance / 100)\n  const [error, setError] = useState<string | null>(null)\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const { value: inputValue } = evt.target\n    setValue(parseFloat(inputValue))\n  }\n\n  // Updates local storage if value is valid\n  useEffect(() => {\n    try {\n      const rawValue = value * 100\n      if (!Number.isNaN(rawValue) && rawValue > 0 && rawValue < MAX_SLIPPAGE) {\n        setUserslippageTolerance(rawValue)\n        setError(null)\n      } else {\n        setError(translateString(1144, 'Enter a valid slippage percentage'))\n      }\n    } catch {\n      setError(translateString(1144, 'Enter a valid slippage percentage'))\n    }\n  }, [value, setError, setUserslippageTolerance, translateString])\n\n  // Notify user if slippage is risky\n  useEffect(() => {\n    if (userSlippageTolerance < RISKY_SLIPPAGE_LOW) {\n      setError(translateString(1146, 'Your transaction may fail'))\n    } else if (userSlippageTolerance > RISKY_SLIPPAGE_HIGH) {\n      setError(translateString(1148, 'Your transaction may be frontrun'))\n    }\n  }, [userSlippageTolerance, setError, translateString])\n\n  return (\n    <Box mb=\"16px\">\n      <Flex alignItems=\"center\" mb=\"8px\">\n        <Text bold>{translateString(88, 'Slippage tolerance')}</Text>\n        <QuestionHelper\n          text={translateString(\n            186,\n            'Your transaction will revert if the price changes unfavorably by more than this percentage.'\n          )}\n        />\n      </Flex>\n      <Options>\n        <Flex mb={['8px', '8px', 0]} mr={[0, 0, '8px']}>\n          {predefinedValues.map(({ label, value: predefinedValue }) => {\n            const handleClick = () => setValue(predefinedValue)\n\n            return (\n              <Option key={predefinedValue}>\n                <Button variant={value === predefinedValue ? 'primary' : 'tertiary'} onClick={handleClick}>\n                  {label}\n                </Button>\n              </Option>\n            )\n          })}\n        </Flex>\n        <Flex alignItems=\"center\">\n          <Option>\n            <Input\n              type=\"number\"\n              scale=\"lg\"\n              step={0.1}\n              min={0.1}\n              placeholder=\"5%\"\n              value={value}\n              onChange={handleChange}\n              isWarning={error !== null}\n            />\n          </Option>\n          <Option>\n            <Text fontSize=\"18px\">%</Text>\n          </Option>\n        </Flex>\n      </Options>\n      {error && (\n        <Text mt=\"8px\" color=\"failure\">\n          {error}\n        </Text>\n      )}\n    </Box>\n  )\n}\n\nexport default SlippageToleranceSettings\n"]},"metadata":{},"sourceType":"module"}